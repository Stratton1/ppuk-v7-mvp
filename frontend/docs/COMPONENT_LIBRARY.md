# Component Library (Phase 6)\n\nReference for core frontend components and where to use them.\n\n## App Shell & Layout\n- `components/app/AppShell.tsx`, `AppShellSidebar.tsx`, `AppSection.tsx`, `PageHeader.tsx`, `DevRoleBanner.tsx` — shared scaffolding for authenticated pages; exposes optional `dataTestId`.\n- `components/app/AccessUnavailable.tsx` — use for gated/denied states instead of ad-hoc messaging.\n\n## Dashboard\n- `components/dashboard/DashboardTabs.tsx`, `dashboard/property-card.tsx`, `dashboard/activity-timeline.tsx`, `dashboard/getDashboardConfig.ts` — dashboard view composition. Tabs are client-only; cards/server sections stay lean.\n\n## Property Domain\n- Header/navigation: `components/property/PropertyTabs.tsx`, `property-card.tsx`, `property-list.tsx`, `property-meta-section.tsx`.\n- Facts & cards: EPC/Flood/Planning/Title/Crime cards in `components/property/cards/*` (server-rendered facts stubs in `lib/property-facts.ts`).\n- Documents/Media: upload actions in `actions/documents.ts`/`actions/media.ts`; UI in `components/documents/*`, `components/media/*` with list/grid patterns and signed URL helpers.\n- Issues/Flags: `components/issues/*` (list, detail, create), backed by `lib/issues/types.ts` and `actions/issues.ts`.\n- Stakeholders: `property-stakeholders-section.tsx` (server) + `stakeholders/invite-dialog.tsx` (client, permission-aware `canInvite` prop) + `stakeholder-row`.\n- Tasks/Events: `components/property/property-tasks-section.tsx`, `property-timeline-section.tsx`, `timeline/event-list.tsx`.\n- Compare: `(app)/properties/compare/page.tsx` renders `data-testid`-rich comparison table with restricted rows when access is denied.\n\n## Public Passport & Marketing\n- Public passport: `components/public-passport/*` used by `(public)/p/[slug]` with granular `data-testid` wrappers.\n- Marketing landing: `components/home/*` using `PageWrapper.Container/Section` (support `dataTestId`), plus CTA, hero, stats, personas, FAQ, etc.\n\n## Auth & Dev\n- Auth flows: `(public)/auth/*` pages use server actions in `lib/auth/actions.ts`.\n- Dev utilities: `(app)/dev/mock-users` client page for mock mode; buttons expose `data-testid` for Playwright.\n\n## UI Primitives (shadcn)\n- Located in `components/ui/*` (Button, Card, Dialog, Tabs, Badge, Skeleton, Icon, Toast, etc.). Use these instead of custom primitives; follow tokens for spacing/radius/typography.\n\n## Testing Hooks\n- Admin pages: deterministic `data-testid` for empty/loaded states (`admin-analytics-*`, `admin-dashboard-*`, `admin-users-*`, `admin-audit-*`).\n- Properties compare: `compare-table`, `compare-col-*`, `compare-row-*`, `compare-row-restricted-*`.\n- Watchlist empty: `watchlist-empty`. Public passport: `public-passport-*` wrappers. Mock users: `mock-user-*` & `mock-user-select-*`.\n\nUse this map to reuse, not reimplement, components. When adding new UI, colocate in the appropriate domain folder and provide stable `data-testid` values for E2E coverage.\n*** End Patch
